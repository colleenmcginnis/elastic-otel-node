[[supported-technologies]]
== Supported Technologies

[discrete]
[[supported-technologies-elastic-stack-versions]]
=== Elastic stack versions

The Elastic Distribution for OpenTelemetry Node.js (the "Distro") sends data
via OpenTelemetry protocol (OTLP). Since version 7.14, Elastic Observability
https://www.elastic.co/blog/native-opentelemetry-support-in-elastic-observability[supports OTLP natively].

Note that OpenTelemetry support is being improved in the 8.x versions of the
Elastic stack, so it is strongly recommended to be using a recent 8.x version.

[discrete]
[[supported-technologies-nodejs-versions]]
=== Node.js versions

The Elastic Distribution for OpenTelemety Node.js supports Node.js v14 and later.
This follows from the https://github.com/open-telemetry/opentelemetry-js#supported-runtimes[OpenTelemetry JS supported runtimes].

[discrete]
[[supported-technologies-instrumentations]]
=== Instrumentations

[%header]
|===
| Name | Packages instrumented | Reference

| `@opentelemetry/instrumentation-aws-sdk`
| `aws-sdk` v2 and `@aws-sdk/client-*` v3
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-aws-sdk#readme[README]

| `@opentelemetry/instrumentation-bunyan`
| `bunyan` version range `^1.0.0`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-bunyan#readme[README]

| `@opentelemetry/instrumentation-express`
| `express` version range `^4.0.0`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-express#readme[README]

| `@opentelemetry/instrumentation-fastify`
| `fastify` version range `>=3 <5`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-fastify#readme[README]

| `@opentelemetry/instrumentation-generic-pool`
| `generic-pool` version range `2 - 2.3, ^2.4, >=3`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-generic-pool#readme[README]

| `@opentelemetry/instrumentation-grpc`
| `@grpc/grpc-js` version range `^1.0.0`
| https://github.com/open-telemetry/opentelemetry-js/tree/main/experimental/packages/opentelemetry-instrumentation-grpc#readme[README]

| `@opentelemetry/instrumentation-hapi`
| `@hapi/hapi >=17.0.0 <21`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-hapi#readme[README]

| `@opentelemetry/instrumentation-http`
| `http` module for Node.js `>=14`
| https://github.com/open-telemetry/opentelemetry-js/tree/main/experimental/packages/opentelemetry-instrumentation-http#readme[README]

| `@opentelemetry/instrumentation-ioredis`
| `ioredis` version range `>=2 <6`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-ioredis#readme[README]

| `@opentelemetry/instrumentation-knex`
| `knex` version range `>=0.10.0`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-knex#readme[README]

| `@opentelemetry/instrumentation-koa`
| `koa` version range `^2.0.0`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-koa#readme[README]

| `@opentelemetry/instrumentation-lru-memoizer`
| `lru-memoizer` version range `>=1.3 <3`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/instrumentation-lru-memoizer#readme[README]

| `@opentelemetry/instrumentation-memcached`
| `memcached` version range `>=2.2`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-memcached#readme[README]

| `@opentelemetry/instrumentation-mongodb`
| `mongodb` version range `>=3.3 <7`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-mongodb#readme[README]

| `@opentelemetry/instrumentation-nestjs-core`
| `@nestjs/core` version range `>=4.0.0`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-nestjs-core#readme[README]

| `@opentelemetry/instrumentation-net`
| `net` module for Node.js `>=14`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-net#readme[README]

| `@opentelemetry/instrumentation-pino`
| `pino` version range `>=5.14.0 <10`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-pino#readme[README]

| `@opentelemetry/instrumentation-pg`
| `pg` version range `>=8 <9`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-pg#readme[README]

| `@opentelemetry/instrumentation-redis-4`
| `redis` version range `^4.0.0`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-redis-4#readme[README]

| `@opentelemetry/instrumentation-restify`
| `restify` version range `>=4.0.0 <12`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-restify#readme[README]

| `@opentelemetry/instrumentation-router`
| `router` version range `1`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-router#readme[README]

| `@opentelemetry/instrumentation-socket.io`
| `socket.io` version range `2, >=3 <5`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/instrumentation-socket.io#readme[README]

| `@opentelemetry/instrumentation-tedious`
| `tedious` version range `>=1.11.0 <=15`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/instrumentation-tedious#readme[README]

| `@opentelemetry/instrumentation-undici`
| `undici` version range `>=5.12.0`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/instrumentation-undici#readme[README]

| `@opentelemetry/instrumentation-winston`
| `winston` version range `>1 <4`
| https://github.com/open-telemetry/opentelemetry-js-contrib/tree/main/plugins/node/opentelemetry-instrumentation-winston#readme[README]
|===

[discrete]
[[supported-technologies-esm]]
=== ECMAScript Modules (ESM)

This Distro includes *limited and experimental* support for instrumenting https://nodejs.org/api/esm.html#modules-ecmascript-modules[ECMAScript module imports], i.e. modules that are loaded via `import ...` statements and `import('...')` (dynamic import).

// TODO: add this to the above paragraph once we have an esm.md doc:
// See the [ECMAScript module support](./esm.md) document for details.

Limitations:

* For Node.js `>=20.6.0 || >=18.19.0`, support for hooking `import`s is automatically enabled. For earlier versions of Node.js, you must manually enable the `import`-hook via the `--experimental-loader=@elastic/opentelemetry-node/hook.mjs` option, e.g.: `node --experimental-loader=@elastic/opentelemetry-node/hook.mjs --require=@elastic/opentelemetry-node app.js`.
* Currently only a subset of instrumentations support ESM: `express`, `ioredis`, `koa`, `pg`, `pino`. See https://github.com/open-telemetry/opentelemetry-js-contrib/issues/1942[this OpenTelemetry JS tracking issue] for progress.
